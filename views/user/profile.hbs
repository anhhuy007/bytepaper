{{!-- views/user/profile.hbs --}}
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
  {{#if successMessage}}
  <div class="alert alert-success shadow-lg mb-6 flex items-center space-x-2">
    <i data-lucide="check-circle" class="text-green-500"></i>
    <span>{{successMessage}}</span>
  </div>
  {{/if}}

  <div class="flex justify-center">
    <div
      class="card bg-white shadow-xl rounded-lg p-6 hover:shadow-2xl transition-shadow duration-300 w-full max-w-2xl"
    >
      <div class="card-body">
        <h2 class="text-3xl font-bold text-gray-800 flex items-center space-x-2 mb-4">
          <i data-lucide="user" class="text-primary"></i>
          <span>{{default user.full_name 'Full name not found'}}</span>
        </h2>
        <ul class="text-gray-700 space-y-3">
          <li class="flex items-center space-x-2">
            <i data-lucide="user-circle" class="text-accent"></i>
            <span>
              <strong class="font-semibold">Username:</strong> {{default user.username 'Username not
              found'}}
            </span>
          </li>
          <li class="flex items-center space-x-2">
            <i data-lucide="mail" class="text-accent"></i>
            <span>
              <strong class="font-semibold">Email:</strong> {{default user.email 'Email not found'}}
            </span>
          </li>
          <li class="flex items-center space-x-2">
            <i data-lucide="pen-tool" class="text-accent"></i>
            <span>
              <strong class="font-semibold">Pen Name:</strong> {{default user.pen_name 'Pen name not
              found'}}
            </span>
          </li>
          <li class="flex items-center space-x-2">
            <i data-lucide="calendar" class="text-accent"></i>
            <span>
              <strong class="font-semibold">Date of Birth:</strong> {{formatDate
              user.date_of_birth}}
            </span>
          </li>
          <li class="flex items-center space-x-2">
            <i data-lucide="shield" class="text-accent"></i>
            <span> <strong class="font-semibold">Role:</strong> {{capitalize user.role}} </span>
          </li>
          <li class="flex items-start space-x-2">
            <i data-lucide="credit-card" class="text-accent mt-1"></i>
            <div class="flex items-center space-x-2">
              <strong class="font-semibold">Subscription:</strong>
              {{#if subscription}}
              <span class="badge badge-success flex items-center space-x-1">
                <i data-lucide="check-circle"></i>
                <span>Valid until {{formatDate subscription.expiry_date}}</span>
              </span>
              {{else}}
              <span class="badge badge-secondary flex items-center space-x-1">
                <i data-lucide="alert-circle"></i>
                <span>No active subscription</span>
              </span>
              {{/if}}
            </div>
          </li>
        </ul>
        <div class="mt-6 flex justify-center space-x-4">
          <a
            href="/user/edit-profile"
            class="btn btn-primary flex items-center space-x-2 text-sm font-semibold"
          >
            <i data-lucide="edit"></i>
            <span>Edit Profile</span>
          </a>

          {{#if dashboardUrl}}
          <a
            href="{{dashboardUrl}}"
            class="btn btn-secondary flex items-center space-x-2 text-sm font-semibold"
          >
            <i data-lucide="grid"></i>
            <span>Go to {{capitalize user.role}} Dashboard</span>
          </a>
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</div>
