{{!-- views/user/profile.hbs --}}
<div class="container mx-auto px-4 md:px-8 lg:px-16 py-8">
  <div class="card lg:card-side bg-base-100 shadow-xl">
    <figure class="p-6">
      <div class="avatar">
        <div class="w-32 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
          <img src="{{user.avatarUrl}}" alt="{{user.fullName}}" />
        </div>
      </div>
    </figure>
    <div class="card-body">
      <h2 class="card-title text-3xl font-bold">{{user.fullName}}</h2>
      <p class="text-sm text-gray-500 mb-4">
        <span class="font-semibold">Username:</span> {{user.username}} {{#if user.penName}}
        <br /><span class="font-semibold">Pen Name:</span> {{user.penName}} {{/if}} <br /><span
          class="font-semibold"
          >Email:</span
        >
        {{user.email}} <br /><span class="font-semibold">Date of Birth:</span> {{formatDate
        user.date_of_birth}} <br /><span class="font-semibold">Role:</span> {{capitalize user.role}}
        <br /><span class="font-semibold">Member since:</span> {{formatDate user.created_at}}
      </p>

      {{!-- Subscription Badge --}} {{#if subscription}}
      <div class="badge badge-primary mb-4">
        Subscription valid until {{formatDate subscription.expiry_date}}
      </div>
      {{else}}
      <div class="badge badge-secondary mb-4">No active subscription</div>
      {{/if}}

      <div class="card-actions">
        <a href="/user/edit-profile" class="btn btn-primary">Edit Profile</a>
        <a href="/user/change-password" class="btn btn-outline">Change Password</a>
        {{#compare user.role '!==' 'guest'}}
        <a href="/user/extend-subscription" class="btn btn-accent">Extend Subscription</a>
        {{/compare}}
      </div>
    </div>
  </div>
</div>
